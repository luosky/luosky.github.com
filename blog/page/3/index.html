
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Luosky's Playground</title>
  <meta name="author" content="Luosky">
  <meta name="Generator" content="Jekyll & Octopress (http://octopress.org)">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://luosky.com/blog/page/3/">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/octopress.min.js" type="text/javascript"></script>
  <link href="/feed" rel="alternate" title="Luosky's Playground" type="application/atom+xml">
  

<!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-150010-7']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


   
  <link href="/octopress-favicon.png" rel="icon">
</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Luosky's Playground</a></h1>
  
    <h2>It's better to burn out than to fade away.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/feed" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:luosky.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
	<li><a href="/">Blog</a></li>
	<li><a href="/archives">Archives</a></li>
	<li><a href="http://photo.luosky.com">Mobile Photoes</a></li>
	<li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2011/01/04/ios-in-app-sms/">iOS App内发送短信</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2011-01-04T00:36:00+08:00" pubdate data-updated="true">Jan 4<span>th</span>, 2011</time>
         &bull; <a rel="bookmark" href="/2011/01/04/ios-in-app-sms/">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><p>iOS4.0新加入了<code>MFMessageComposeViewController</code>和<code>MFMessageComposeViewControllerDelegate</code>,提供了发送短信的接口,可以像发送邮件那样不用跳出程序来发送短信. 介绍可参阅Message UI Framework Reference</p>

<p>一些笔记:</p>

<h3>MFMessageComposeViewController</h3>

<ul>
<li>提供了操作界面</li>
<li>使用前必须检查canSendText方法,若返回NO则不应将这个controller展现出来,而应该提示用户不支持发送短信功能.</li>
<li>界面不能自行定制</li>
<li>要发送的短信的内容(body)和收件人(recipients)在展现这个controller前需初始化好,展现了之后短信内容不能通过程序来进行修改.不过用户仍然可以手工修改短信内容和选择收件人</li>
<li>用户点了发送或者取消,或者发送失败时,MFMessageComposeViewControllerDelegate 的- messageComposeViewController:didFinishWithResult:方法都能得到通知,在这里进行相应的处理</li>
</ul>


<p>若在iOS3.0上运行的话,会提示<code>dyld: Symbol not found: _OBJC_CLASS_$_MFMessageComposeViewController</code> 解决方案:</p>

<ol>
<li>MessageUI.framework的引入类型应选择weak(在target -> Get Info -> General -> Linked Libraries -> MessageUI.framework -> Type 里修改)</li>
<li>不要在.h文件里直接import MessageUI/MFMessageComposeViewController.h,改为import &lt;MessageUI/MessageUI.h></li>
</ol>


<p>具体的发送代码:</p>

<figure class='code'><div class='highlight'><table><td class='gutter'><pre class='line-numbers'><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
</pre></td><td class='code'><pre><code class='objective-c'><span class='line'><span class="cp">    </span>
</span><span class='line'><span class="cp">    #pragma mark -</span>
</span><span class='line'><span class="cp">    #pragma mark SMS</span>
</span><span class='line'>
</span><span class='line'>    <span class="o">-</span><span class="p">(</span><span class="kt">IBAction</span><span class="p">)</span><span class="nl">showSMSPicker:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="n">sender</span> <span class="p">{</span>
</span><span class='line'>      <span class="c1">// The MFMessageComposeViewController class is only available in iPhone OS 4.0 or later.</span>
</span><span class='line'>      <span class="c1">// So, we must verify the existence of the above class and log an error message for devices</span>
</span><span class='line'>      <span class="c1">//     running earlier versions of the iPhone OS. Set feedbackMsg if device doesn&#39;t support</span>
</span><span class='line'>      <span class="c1">//     MFMessageComposeViewController API.</span>
</span><span class='line'>      <span class="n">Class</span> <span class="n">messageClass</span> <span class="o">=</span> <span class="p">(</span><span class="n">NSClassFromString</span><span class="p">(</span><span class="s">@&quot;MFMessageComposeViewController&quot;</span><span class="p">));</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span><span class="n">messageClass</span> <span class="o">!=</span> <span class="nb">nil</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>          <span class="c1">// Check whether the current device is configured for sending SMS messages</span>
</span><span class='line'>          <span class="k">if</span> <span class="p">([</span><span class="n">messageClass</span> <span class="n">canSendText</span><span class="p">])</span> <span class="p">{</span>
</span><span class='line'>              <span class="p">[</span><span class="n">self</span> <span class="n">displaySMSComposerSheet</span><span class="p">];</span>
</span><span class='line'>          <span class="p">}</span>
</span><span class='line'>          <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>              <span class="p">[</span><span class="n">UIAlertView</span> <span class="nl">quickAlertWithTitle:</span><span class="s">@&quot;设备没有短信功能&quot;</span> <span class="nl">messageTitle:</span><span class="nb">nil</span> <span class="nl">dismissTitle:</span><span class="s">@&quot;关闭&quot;</span><span class="p">];</span>
</span><span class='line'>          <span class="p">}</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>      <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>          <span class="p">[</span><span class="n">UIAlertView</span> <span class="nl">quickAlertWithTitle:</span><span class="s">@&quot;iOS版本过低,iOS4.0以上才支持程序内发送短信&quot;</span> <span class="nl">messageTitle:</span><span class="nb">nil</span> <span class="nl">dismissTitle:</span><span class="s">@&quot;关闭&quot;</span><span class="p">];</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">displaySMSComposerSheet</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>      <span class="n">MFMessageComposeViewController</span> <span class="o">*</span><span class="n">picker</span> <span class="o">=</span> <span class="p">[[</span><span class="n">MFMessageComposeViewController</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'>      <span class="n">picker</span><span class="p">.</span><span class="n">messageComposeDelegate</span> <span class="o">=</span> <span class="n">self</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">NSMutableString</span><span class="o">*</span> <span class="n">absUrl</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSMutableString</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithString:</span><span class="n">web</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">URL</span><span class="p">.</span><span class="n">absoluteString</span><span class="p">];</span>
</span><span class='line'>      <span class="p">[</span><span class="n">absUrl</span> <span class="nl">replaceOccurrencesOfString:</span><span class="s">@&quot;http://i.aizheke.com&quot;</span> <span class="nl">withString:</span><span class="s">@&quot;http://m.aizheke.com&quot;</span> <span class="nl">options:</span><span class="n">NSCaseInsensitiveSearch</span> <span class="nl">range:</span><span class="n">NSMakeRange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="n">absUrl</span> <span class="n">length</span><span class="p">])];</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">picker</span><span class="p">.</span><span class="n">body</span><span class="o">=</span><span class="p">[</span><span class="n">NSString</span> <span class="nl">stringWithFormat:</span><span class="s">@&quot;我在爱折客上看到：%@ 可能对你有用，推荐给你！link：%@&quot;</span>
</span><span class='line'>                                          <span class="p">,[</span><span class="n">web</span> <span class="nl">stringByEvaluatingJavaScriptFromString:</span><span class="s">@&quot;document.title&quot;</span><span class="p">]</span>
</span><span class='line'>                                          <span class="p">,</span><span class="n">absUrl</span><span class="p">];</span>
</span><span class='line'>      <span class="p">[</span><span class="n">absUrl</span> <span class="n">release</span><span class="p">];</span>
</span><span class='line'>      <span class="p">[</span><span class="n">self</span> <span class="nl">presentModalViewController:</span><span class="n">picker</span> <span class="nl">animated:</span><span class="n">YES</span><span class="p">];</span>
</span><span class='line'>      <span class="p">[</span><span class="n">picker</span> <span class="n">release</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">messageComposeViewController:</span><span class="p">(</span><span class="n">MFMessageComposeViewController</span> <span class="o">*</span><span class="p">)</span><span class="n">controller</span>
</span><span class='line'>                   <span class="nl">didFinishWithResult:</span><span class="p">(</span><span class="n">MessageComposeResult</span><span class="p">)</span><span class="n">result</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">switch</span> <span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>          <span class="k">case</span> <span class="nl">MessageComposeResultCancelled:</span>
</span><span class='line'>              <span class="n">LOG_EXPR</span><span class="p">(</span><span class="s">@&quot;Result: SMS sending canceled&quot;</span><span class="p">);</span>
</span><span class='line'>              <span class="k">break</span><span class="p">;</span>
</span><span class='line'>          <span class="k">case</span> <span class="nl">MessageComposeResultSent:</span>
</span><span class='line'>              <span class="n">LOG_EXPR</span><span class="p">(</span><span class="s">@&quot;Result: SMS sent&quot;</span><span class="p">);</span>
</span><span class='line'>              <span class="k">break</span><span class="p">;</span>
</span><span class='line'>          <span class="k">case</span> <span class="nl">MessageComposeResultFailed:</span>
</span><span class='line'>              <span class="p">[</span><span class="n">UIAlertView</span> <span class="nl">quickAlertWithTitle:</span><span class="s">@&quot;短信发送失败&quot;</span> <span class="nl">messageTitle:</span><span class="nb">nil</span> <span class="nl">dismissTitle:</span><span class="s">@&quot;关闭&quot;</span><span class="p">];</span>
</span><span class='line'>              <span class="k">break</span><span class="p">;</span>
</span><span class='line'>          <span class="k">default</span><span class="o">:</span>
</span><span class='line'>              <span class="n">LOG_EXPR</span><span class="p">(</span><span class="s">@&quot;Result: SMS not sent&quot;</span><span class="p">);</span>
</span><span class='line'>              <span class="k">break</span><span class="p">;</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>      <span class="p">[</span><span class="n">self</span> <span class="nl">dismissModalViewControllerAnimated:</span><span class="n">YES</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>



</div>

  <footer>
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2011/01/03/my-2010/">2010的生活轨迹</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2011-01-03T00:36:00+08:00" pubdate data-updated="true">Jan 3<span>rd</span>, 2011</time>
         &bull; <a rel="bookmark" href="/2011/01/03/my-2010/">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><p>Posted on <a href="http://luosky.com/2011/01/2010%e7%9a%84%e7%94%9f%e6%b4%bb%e8%bd%a8%e8%bf%b9.html" title="10:17 pm">2011-01-03</a> by  <a href="http://luosky.com/author/luosky" title="View all posts by luosky">luosky</a></p>

<p><a href="http://photo.luosky.com/wp-content/uploads/2011/01/Screen-shot-2011-01-03-at-10.15.04-PM.png"><img src="http://photo.luosky.com/wp-content/uploads/2011/01/Screen-shot-2011-01-03-at-10.15.04-PM.png" title="Screen shot 2011-01-03 at 10.15.04 PM" alt="" /></a><br/>
有记录到的路程为:<br/>
已行驶 190 公里<br/>
距月球还有 362,913 多公里</p>
</div>

  <footer>
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2011/01/01/my-sync-solution/">我是同步控</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2011-01-01T00:36:00+08:00" pubdate data-updated="true">Jan 1<span>st</span>, 2011</time>
         &bull; <a rel="bookmark" href="/2011/01/01/my-sync-solution/">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><h2>我的同步方案：</h2>

<h3>同步照片：</h3>

<p>主入口:</p>

<ul>
<li>path

<ul>
<li>foursquare

<ul>
<li>wordpress (via <a href="https://ifttt.com/recipes/47859">ifttt</a>)

<ul>
<li>Qzone（via <a href="http://liguoliang.com/2010/wordpress-post-to-qzone/">post2Qzone</a>）</li>
<li>sina微博 (via <a href="http://www.smyx.net/wp-connect.html">WordPress连接微博</a>)</li>
</ul>
</li>
</ul>
</li>
<li>twitter</li>
<li>facebook</li>
</ul>
</li>
</ul>


<p>旧入口:</p>

<ul>
<li>instagram

<ul>
<li>twitter</li>
<li>facebook</li>
<li>flickr

<ul>
<li>wordpress (via <a href="http://devthought.com/wp-o-matic-the-wordpress-rss-agreggator/">WP-o-Matic</a>)

<ul>
<li>qzone（via <a href="http://liguoliang.com/2010/wordpress-post-to-qzone/">post2Qzone</a>）</li>
<li>sina微博 (via <a href="http://www.smyx.net/wp-connect.html">WordPress连接微博</a>)</li>
<li><del><a href="http://renjian.com/">renjian.com</a> (via <a href="http://www.smyx.net/wp-connect.html">WordPress连接微博</a>)</del></li>
<li><del>digu (via <a href="http://www.smyx.net/wp-connect.html">WordPress连接微博</a>) </del>

<ul>
<li><del>kaixin001（via 嘀神）</del></li>
<li><del>douban（via 嘀神）</del></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>


<h3><del>同步微薄：</del></h3>

<ul>
<li><del>qq签名 </del>

<ul>
<li><del>follow5 </del>

<ul>
<li><del>sina微博</del></li>
<li><del>twitter</del></li>
<li><del>digu </del>

<ul>
<li><del>kaixin001（via 嘀神）</del></li>
<li><del>douban (via 嘀神)</del></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>


<p><em>2012-11-13 updated: 换用path作为同步照片的主入口.另外去掉了几个已经失效的渠道: follow5已经关闭了;digu已经从微博转到LBS又转到pinterest了- - ;而renjian也早已停止更新了…</em></p>

<p><em>2011-04-09 updated: 图片同步方式中换用<a href="http://www.smyx.net/wp-connect.html">WordPress连接微博</a> 来同步到几个微博</em></p>
</div>

  <footer>
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2010/12/10/sd2.0-conference/">SD2.0大会笔记</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2010-12-10T00:36:00+08:00" pubdate data-updated="true">Dec 10<span>th</span>, 2010</time>
         &bull; <a rel="bookmark" href="/2010/12/10/sd2.0-conference/">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><h3>理性的设计</h3>

<p>by 西乔</p>

<ul>
<li>一个设计只有一个重心</li>
<li>利用视觉习惯引导用户行为</li>
<li>人们喜欢数据,哪怕用不同的字号将其突出出来</li>
<li>空白是好设计的肺部</li>
<li>好的设计并非源于审美,而是源于对受众的理解</li>
</ul>


<hr />

<h3>LBS应用之道</h3>

<p>by 大众点评</p>

<ul>
<li>超过100万商家,16million评论</li>
<li>80个开发者,手机团队10几个</li>
<li>geocoding</li>
<li>recerse geocoding</li>
<li>local business solution</li>
<li>app 10年1月上线 170万装机量</li>
<li>lesson learned

<ul>
<li>数据协议在各种网络和硬件的情况下表现不佳 - 序列化和压缩</li>
<li>定位偏移 - 辅助定位,反向偏移 各城市非线性偏移</li>
<li>地图和政策问题 - 内嵌web地图</li>
<li>多机型兼容问题 -</li>
</ul>
</li>
<li>各个页面定义私有url</li>
<li>遵循规范,比如维度在前,精度在后</li>
</ul>

</div>

  <footer>
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2010/11/06/wordpress-to-qzone/">搞定了wordpress同步到qzone</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2010-11-06T00:36:00+08:00" pubdate data-updated="true">Nov 6<span>th</span>, 2010</time>
         &bull; <a rel="bookmark" href="/2010/11/06/wordpress-to-qzone/">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><p>Posted on <a href="http://luosky.com/2010/11/%e6%90%9e%e5%ae%9a%e4%ba%86wordpress%e5%90%8c%e6%ad%a5%e5%88%b0qzone.html" title="7:45 pm">2010-11-06</a> by  <a href="http://luosky.com/author/luosky" title="View all posts by luosky">luosky</a></p>

<p>由于封闭的腾讯从不开放其API,因此无法通过常规的方法同步到qzone.唯一通过外部发表文章的途径只有通过qq邮箱来进行发布.</p>

<p>post2qzone这个插件就是利用这个途径来进行同步.</p>

<p>但很多虚拟主机提供商因为垃圾邮件的关系,都屏蔽了邮件发送的25端口.我用的dreamhost也是如此,ssh上去telnet smtp.qq.com 25 一直都是connection refused.但是ssl加密的端口 587和465端口却可以telnet上去.因此可以利用这点来发布.</p>

<p>看了下﻿post2qzone的源代码,﻿是用的PHPMailerl来发邮件.只需对post2qzone.php 做如下修改即可通过ssl加密来发布邮件了:﻿</p>

<p>在﻿sendPostByPhpMailer函数里加上</p>

<pre><code>$mail-&gt;SMTPSecure = "ssl";
 $mail-&gt;Port       = 587;
</code></pre>
</div>

  <footer>
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2010/10/31/ios-notification-study-note/">iOS Notification 学习笔记</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2010-10-31T00:17:00+08:00" pubdate data-updated="true">Oct 31<span>st</span>, 2010</time>
         &bull; <a rel="bookmark" href="/2010/10/31/ios-notification-study-note/">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><h2>分类</h2>

<ol>
<li><p>本地notification</p>

<ul>
<li>4.0才开始支持</li>
<li>无需网络,无需走和Apple推送服务器的整个推送流程,一切都在本地发生</li>
</ul>
</li>
<li><p>push notification</p>

<ul>
<li>3.0开始支持</li>
<li>对于因为网络原因未发送到用户手机上的notification ,APNs会保留起来,待该device联网后发送.但对每台机器的每个应用只会保留一条,后来的覆盖之前的.</li>
<li>payload大小不超过256byte</li>
<li><strong>每次应用程序启动</strong>时都需向APNs注册,获得device token后将其传回应用的provider(application的server端)</li>
<li>provider要发送notification时,需附带这个device token</li>
<li>APNs会反馈持续发送失败的device 列表给provider,provider应停止向这些device发送notification</li>
<li>icon budge上显示的数字就是provider发过来的数字,不会累加.</li>
</ul>
</li>
</ol>


<h2>接收到notification时的处理</h2>

<p>本地notification和push notification对用户来讲没什么不同,当用户接收到一个notification时:</p>

<ul>
<li>若应用在后台运行,或者没有运行时

<ul>
<li>展现这个notification(提醒,声音和icon badge).若用户点了这个提醒(或是划动解锁了屏幕),则以notification带的payload作为参数调用<code>application:didFinishLaunchingWithOptions:</code>方法启动应用</li>
</ul>
</li>
<li>若正在前台运行

<ul>
<li>若是push notification,则<code>application:didReceiveRemoteNotification:</code>被调用</li>
<li>若是本地的notification,则 <code>application:didReceiveLocalNotification:</code> 会被调用</li>
</ul>
</li>
</ul>


<h2>建立推送服务器</h2>

<p>要发送notification的provider需先获取SSL证书.一个证书只能用于一个应用.且有测试(sandbox)证书和正式证书之分:</p>

<ul>
<li>测试(sandbox):<a href="http://gateway.sandbox.push.apple.com">gateway.sandbox.push.apple.com</a>, outbound TCP port 2195.</li>
<li>正式:<a href="http://gateway.push.apple.com">gateway.push.apple.com</a>, outbound TCP port 2195.</li>
</ul>


<p>iOS Develop Program的用户有三种角色:</p>

<ol>
<li>team agent</li>
<li>team admin</li>
<li>team member.</li>
</ol>


<p>只有team agent可以创建SSL证书<br/>
team agent 和team admin可以创建provisioning profile<br/>
team member只能下载和安装证书及profile</p>
</div>

  <footer>
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2007/03/23/building/">&#24314;&#31569;</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2007-03-23T05:25:24+08:00" pubdate data-updated="true">Mar 23<span>rd</span>, 2007</time>
         &bull; <a rel="bookmark" href="/2007/03/23/building/">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><h1><a href="index.html">Singing Like Nobody&#8217;s Listening</a></h1>

<h2>建筑</h2>

<h5>2007/3/22 21:25:24</h5>

<p>Tuesday, 6. March 2007, 13:43:05</p>

<p><a href="http://www.bababian.com/phoinfo/AC3D7B34832B51917403E47526506176DT" title="点击查看照片的详细信息"><img src="http://photo1.bababian.com/20070305/AC3D7B34832B51917403E47526506176_800.jpg" title="_mg_2785.jpg" alt="厦门 －巴巴变免费相册" /></a></p>

<p>更多照片请入内观看。<a href="http://www.bababian.com/phoinfo/99C742D07FCF992E7345B73357097D84DT" title="点击查看照片的详细信息"><img src="http://photo1.bababian.com/20070305/99C742D07FCF992E7345B73357097D84_800.jpg" title="_mg_2918.jpg" alt="厦门 －巴巴变免费相册" /></a><br/>
<a href="http://www.bababian.com/phoinfo/87AFACF63E7EFFB9F89D49180D4B23A4DT" title="点击查看照片的详细信息"><img src="http://photo1.bababian.com/20070305/87AFACF63E7EFFB9F89D49180D4B23A4_800.jpg" title="_mg_2914.jpg" alt="厦门 －巴巴变免费相册" /></a><br/>
<a href="http://www.bababian.com/phoinfo/51BEE83D9F22813C31C4975FA65E1E01DT" title="点击查看照片的详细信息"><img src="http://photo1.bababian.com/20070305/51BEE83D9F22813C31C4975FA65E1E01_800.jpg" title="_mg_2900.jpg" alt="厦门 －巴巴变免费相册" /></a><br/>
<a href="http://www.bababian.com/phoinfo/6A8003FD54A07C0BDABF8695A072D4E6DT" title="点击查看照片的详细信息"><img src="http://photo1.bababian.com/20070305/6A8003FD54A07C0BDABF8695A072D4E6_800.jpg" title="_mg_2897.jpg" alt="厦门 －巴巴变免费相册" /></a><br/>
<a href="http://www.bababian.com/phoinfo/FD7FD03DDC7EA8665B3147D940C7DAF7DT" title="点击查看照片的详细信息"><img src="http://photo1.bababian.com/20070305/FD7FD03DDC7EA8665B3147D940C7DAF7_800.jpg" title="_mg_2891.jpg" alt="厦门 －巴巴变免费相册" /></a><br/>
<a href="http://www.bababian.com/phoinfo/AFCFFEA83D16EA37E4C423720CDB3EC2DT" title="点击查看照片的详细信息"><img src="http://photo1.bababian.com/20070305/AFCFFEA83D16EA37E4C423720CDB3EC2_800.jpg" title="_mg_2885.jpg" alt="厦门 －巴巴变免费相册" /></a><br/>
<a href="http://www.bababian.com/phoinfo/0019CF927F1CA2BEDCFE4F685461DE7DDT" title="点击查看照片的详细信息"><img src="http://photo1.bababian.com/20070305/0019CF927F1CA2BEDCFE4F685461DE7D_800.jpg" title="_mg_2934.jpg" alt="厦门 －巴巴变免费相册" /></a></p>

<h3>Comments</h3>

<h5>蔡 明 - 2007/4/4 14:14:42</h5>

<p>好像上次去厦门是99年的事情了，当时就觉得厦门很干净很漂亮。今天看了照片，感觉比我去的时候更加好了，希望有机会能够在去。如果去的话，L猪记得请客。</p>

<h5>张 吟 - 2007/4/28 12:39:23</h5>

<p>你什么时候又开始喜欢摄影了？呵呵，没来过厦门，不过在你的镜头下厦门好漂亮！</p>

<h5>骆 仕恺 - 2007/5/6 12:53:32</h5>

<p>呵呵，啥时候叫上阿酷，巴斯，A他们一起来玩吧：）</p>

<h5>小西 - 2008/11/14 16:26:28</h5>

<p>o(∩_∩)o&#8230;</p>
</div>

  <footer>
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2007/03/18/26/">26</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2007-03-18T10:39:00+08:00" pubdate data-updated="true">Mar 18<span>th</span>, 2007</time>
         &bull; <a rel="bookmark" href="/2007/03/18/26/">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><p>Sunday, March 18, 2007 3:57:55 PM</p>

<p>时间流逝，时光飞逝。转眼已过了26岁的生日。</p>

<p>同样是3月14日出生，同样是26岁的爱因斯坦已经发表了5篇震惊世界的论文；26岁的伽利略已经发现了自由落体定律；26岁的牛顿已经发现了万有引力并且即将发明微积分……26岁的我又完成了什么呢？</p>

<p>过去的一年里，完成了职业生涯中预期的角色转变，却在即将结束的时候遇到了一个看上去极为诱人的机会，只是这个机会指向的道路并不在我发展的方向之内，不是我喜欢做的但却是富有挑战性的。</p>

<p>Steve Jobs 说：“ You’ve got to find what you love”，他说“你们的时间有限，所以不要把时间浪费在别人的生活里。不要被条条框框束缚，否则你就生活在他人思考的结果里。不要让他人的观点所发出的噪音淹没你内心的声音。最为重要的是，要有遵从你的内心和直觉的勇气，它们可能已知道你其实想成为一个什么样的人。其他事物都是次要的。”</p>

<p>但人总是倾向于选择对自己来说比较简单的事做。自己喜欢的就是正确的吗？尝试那些自己不擅长的，不更能锻炼自己么？选择自己喜欢的是从自我的角度来考虑，而选择那个机会似乎更多的是从别人，从所处的环境的角度来考虑。这两者就目前而言是对立的，你只能选择作运动员或者教练员。关键是你要根据什么来作出你的决定呢？</p>
</div>

  <footer>
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2007/03/17/paris-i-love-u/">巴黎，我爱你</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2007-03-17T00:30:01+08:00" pubdate data-updated="true">Mar 17<span>th</span>, 2007</time>
         &bull; <a rel="bookmark" href="/2007/03/17/paris-i-love-u/">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><p>Friday, March 16, 2007 3:52:40 PM</p>

<p><a href="/Luosky/blog/index.dml/tag/movie">movie</a></p>

<p><img src="http://coverpages.fifid.com/2c628a05f87a9f7f2820675682e8adb3_l.jpg" alt="" /> <br/>
　　冲着之前看过的几张剧照，看起了《巴黎，我爱你》。由于之前并不知道这部片子的背景，一开始根本看不懂，完全不知道这几个故事之间到底是要讲些什么，直到最后看到中年妇女一个人旅游，一个人逛街，一个人坐在公园里，突然发生了一件难以言传的事的时候，我的心里也不由得跟着感觉到了那份奇妙，才恍然大悟巴黎的魅力在10几个片断间已经植入了脑中。</p>

<p>　　很喜欢盲眼少年碰上正在排练的Natalie的那个片段，Natalie从屋内走出来阳光撒在她脸上的时候，那种惊艳的感觉实非当年的《这个杀手不太冷》里的小loli和星战里的形象所能比。</p>

<p>　　在巴黎，即使是盲人也能够奔跑，能够跳水，能够拥有美好的生活。喜欢盲眼少年的那段独白：<br/>
<img src="http://img1.mtime.com/pi/d/2006/45/20061116101952.1629937.jpg" alt="" /><br/>
　　“然后你离开波士顿，搬到巴黎来住，在圣德尼的小公寓里。我带你去看我们这个区，这儿的公园，我曾就读的学校，我把你介绍给我的朋友和父母。我听你背台词，听你唱歌，听你的希望和快乐，还有你的音乐。你也听我的，意大利的，西班牙的，俄语的，我把随身听给你戴上听。你和我做游戏，终于有一天，你吻了我。&#8221;<br/>
　　&#8221;时间流逝，时光飞逝。一切是那么简单、自然、新鲜，绝无仅有。我们去看电影，去跳舞，看比赛。我们开怀大笑，我们游泳，抽烟，刮体毛。你大声喊叫，无理由，或有理由。对, 有时候有理由&#8221;<br/>
　　&#8221;我陪你去音乐学院，自己复习备考。我听你唱歌，听你的希望，你的欲望，你的音乐，你也听我的。我们彼此如此亲近，非常亲近，一步步更亲近。我们看电影，游泳，一起大笑。你大声喊叫，有理由，或无理由。&#8221;<br/>
　　&#8221;时间流逝，时光飞逝。我陪你去音乐学院，我复习考试，你听我讲意大利语，西班牙语，俄语，法语。你喊叫，有理由，或无理由。&#8221;<br/>
　　&#8221;时间流逝，你还是喊叫，喊叫，我复习备考，考试，考试，考试，时间流逝，你喊叫，喊叫，喊叫，喊叫……我自己去看电影…… &#8221;<br/>
<img src="http://img1.mtime.com/pi/d/2006/45/20061116101813.1170195.jpg" alt="" /></p>

<p>　　也喜欢独自旅行的中年妇女在最高点的独白：</p>

<p>　　”在这个最高点, 我俯瞰整个巴黎。很想告诉别人, 太美了，是不是? 可是身边没有人。我想起了自己最初的恋人，他很想来巴黎看看。这样想着, 我又觉得自己很傻，因为我已经十一年没见到他了，而且现在他已经结婚了，和我不认识的人。”</p>

<p>　　更多剧照：<br/>
<img src="http://www.serenity-group.com/movie/paris/08.jpg" alt="" /><br/>
<img src="http://www.serenity-group.com/movie/paris/19.jpg" alt="" /><br/>
<img src="http://www.serenity-group.com/movie/paris/17.jpg" alt="" /><br/>
<img src="http://www.serenity-group.com/movie/paris/06.jpg" alt="" /><br/>
<img src="http://www.serenity-group.com/movie/paris/15.jpg" alt="" /></p>
</div>

  <footer>
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2007/02/26/drink/">&#33073;&#20102;</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2007-02-26T00:30:11+08:00" pubdate data-updated="true">Feb 26<span>th</span>, 2007</time>
         &bull; <a rel="bookmark" href="/2007/02/26/drink/">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><h1><a href="index.html">Singing Like Nobody&#8217;s Listening</a></h1>

<h2>脱了</h2>

<h5>2007/3/1 16:30:11</h5>

<p>Sunday, 25. February 2007, 15:44:57</p>

<p>在酒席上劝酒就跟比脱衣服一样<br/>
最能喝的就是那个穿最多的<br/>
先倒下的就是那个先被脱光的</p>

<p>你干我也干<br/>
那是公平地你脱一件我脱一件<br/>
你干我随意<br/>
那是我占了你便宜<br/>
我干你随意<br/>
字面上看似乎是我被你占了便宜<br/>
但如果我是色狼你是美女<br/>
那似乎也还是我占了你便宜</p>

<p>我脱你不脱<br/>
那是我自作多情<br/>
我没脱你脱<br/>
那是你在勾引我<br/>
你脱了我不脱<br/>
那是我对你没意思</p>

<p>几乎没有人愿意在饭桌上自己一个人喝酒<br/>
就像没有人愿意在大庭广众下独自跳脱衣舞一样<br/>
但是当脱衣舞变成比赛脱衣服的时候<br/>
为什么就有人愿意干了呢</p>

<h3>Comments</h3>
</div>

  <footer>
    
    
  </footer>


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/4/">&larr; Older</a>
    
    <a href="/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/2/">Newer &rarr;</a>
    
  </div>
</div>

<aside class="sidebar">
  
    <section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/blog/categories/blog/'>blog (3)</a></li>
<li class='category'><a href='/blog/categories/design/'>design (1)</a></li>
<li class='category'><a href='/blog/categories/game/'>game (4)</a></li>
<li class='category'><a href='/blog/categories/ios/'>iOS (7)</a></li>
<li class='category'><a href='/blog/categories/life/'>life (34)</a></li>
<li class='category'><a href='/blog/categories/movie/'>movie (4)</a></li>
<li class='category'><a href='/blog/categories/music/'>music (9)</a></li>
<li class='category'><a href='/blog/categories/others/'>others (11)</a></li>
<li class='category'><a href='/blog/categories/photography/'>photography (8)</a></li>
<li class='category'><a href='/blog/categories/programming/'>programming (14)</a></li>
<li class='category'><a href='/blog/categories/translation/'>translation (2)</a></li>

  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2012/12/08/be-careful-with-nsstring-hash/">Be Careful with NSString&#8217;s Hash</a>
      </li>
    
      <li class="post">
        <a href="/2012/11/30/use-testflight-to-beta-test-ios-app/">使用TestFlight 安装测试版iOS应用(面向测试人员)</a>
      </li>
    
      <li class="post">
        <a href="/2012/08/06/my-bettertouchtool-config/">My BetterTouchTool Config</a>
      </li>
    
      <li class="post">
        <a href="/2012/08/02/mac-app-list/">Mac App 列表</a>
      </li>
    
      <li class="post">
        <a href="/2012/07/24/create-custom-rss-feed-for-octopress/">Create Custom Rss Feed for Octopress</a>
      </li>
    
  </ul>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets" data-user="luosky" data-count="4" data-replies="false">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
    <a href="http://twitter.com/luosky" class="twitter-follow-button" data-show-count="false">Follow @luosky</a>
  
</section>





<section>
  <h1>On GitHub</h1>
  <ul id="gh_repos" data-user="Luosky" data-count="3" data-skip="true">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a class="github-follow" href="https://github.com/Luosky">Follow @Luosky</a>
  
</section>








  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Luosky -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'luosky';
			var disqus_developer = '1';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>






</body>
</html>
